# 開発ガイド

## 開発環境のセットアップ

### Git フック

コミット前に自動的に `deno fmt` と `deno lint` を実行するようになっています：

```bash
# .huskyディレクトリが用意されていて、pre-commitフックが設定されています
# 以下のように動作します:
# 1. コミットされるTypeScriptファイルに対して自動的にフォーマットを適用
# 2. フォーマットされたファイルを再度ステージング
# 3. lintを実行し、エラーがあればコミットを中止
```

この設定により、GitHub Actionsのチェックでエラーが発生することを防止できます。

## 開発コマンド

```bash
# 開発モード（ファイル変更を監視）
deno run --watch --allow-net mod.ts

# リント
deno lint

# フォーマット
deno fmt

# 型チェック
deno check mod.ts

# テスト
deno test

# バンドル
deno bundle mod.ts dist.js

# 実行ファイルにコンパイル
deno compile --allow-net mod.ts
```

## 今後の改善予定

- 公開日の抽出方法を改善
  - メタタグからの抽出を試す (og:published_time など)
  - 日付のフォーマットを標準化 (ISO 8601 形式など)
  - タイムゾーン処理の追加
- HTML スクレイピング処理の堅牢性向上
- 記事タグの抽出精度の向上
- ~~出力形式の選択肢追加（JSON 以外）~~ ✅ issue #14 で実装完了
- ~~feedコマンドでフィードURLを表示~~ ✅ issue #22 で実装完了
- キーワード検索機能の追加 (保留 - issue #16)

## キーワード検索機能 (issue #16)

### 調査内容と保留理由

Zenn.devのサイト内検索 (https://zenn.dev/search?q=...) と同等の検索機能を実装する方法を調査しましたが、以下の理由から実装が困難と判断し、保留としました。

1. Zenn.devの公開検索APIが確認できず、状況を把握できない
2. robots.txtの制限により検索ページへの直接アクセスができない
3. より大規模な実装（クローリングや廃止されている可能性のあるAPIを使用）が必要になる可能性がある

将来的に、以下のアプローチで実装を検討することも可能です：

1. Zenn.devが公式に検索APIを公開した場合は、それを利用する
2. Zenn.devのRSSフィードを使用したローカル検索機能を実装する（フィードの取得記事数が限られるため、完全な検索結果ではない点に注意）
